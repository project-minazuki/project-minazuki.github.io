{"version":3,"sources":["components/ThemeItem.tsx","images/pin.png","images/HQuality.png","components/NewestTheme1.tsx","components/NewestReplyTheme1.tsx","components/CateIntro.tsx","components/AnnouncementCard1.tsx","components/DynamicTag.tsx","components/CateSearch.tsx","pages/CategoryPage.tsx","containers/pages/CategoryPage.ts"],"names":["ThemeItem","memo","props","$class","className","$Theme","info_Theme","$Cate","info_Cate","$User","info_User","history","useHistory","handleClick","ThemeId","_id","message","info","setTimeout","push","id","onClick","pinned","src","pin","alt","highQuality","HQuality","title","latestReplyTime","avatar","defaultAvatar","size","name","username","createdTime","module","exports","NewestTheme1","classname","$style","style","$newThemes","newThemes","links","length","i","width","height","direction","display","alignItems","justifyContent","NewestReplyTheme1","newReplies","CateIntro","desc","themeNumber","postNumber","visits","AnnouncementCard1","link","$Announcement","$editor","editor","updateTimeFromNow","moment","updateTime","fromNow","undefined","content","Card","MyTag","state","checked","onChange","value","setState","onClose","this","closable","CheckableTag","children","Component","defaultProps","DynamicTag","tags","checks","tag","concat","filter","v","map","key","SearchBar","Search","placeholder","onSearch","CateSearch","radioStyle","lineHeight","Group","CategoryPage","store","loadData","cid","userDB","useContext","RouteContext","match","params","cateId","unload","loaded","useEffect","url","loading","success","LoadingIcon","connect","category","userCenter","component","now","dispatch","bindActionCreators","$actions"],"mappings":"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","file":"static/js/7.f6c22834.chunk.js","sourcesContent":["import React, {CSSProperties, FC, memo} from \"react\";\r\nimport {Theme} from \"../configs/types\";\r\nimport {Category} from \"../configs/types\";\r\nimport {User} from \"../configs/types\";\r\nimport pin from '../images/pin.png';\r\nimport HQuality from '../images/HQuality.png';\r\nimport '../styles/components/ThemeItem.scss';\r\n\r\nimport {Avatar, message} from 'antd';\r\nimport {defaultAvatar} from \"../configs/consts\";\r\nimport {useHistory} from \"react-router\";\r\n\r\ninterface IProps {\r\n    className?: string | undefined;\r\n    msg?: number | undefined;\r\n    info_Theme: Theme;\r\n    info_Cate: Category;\r\n    info_User: User;\r\n    style?: Partial<CSSProperties>;\r\n}\r\n\r\nconst ThemeItem: FC<IProps> = memo(props => {\r\n    const $class = props.className ?? '';\r\n    const $Theme = props.info_Theme;\r\n    const $Cate = props.info_Cate;\r\n    const $User = props.info_User;\r\n\r\n    const history = useHistory();\r\n\r\n    const handleClick = () => {\r\n        const ThemeId = $Theme._id ?? 0;\r\n        // TODO: 修改成对应版块的路由\r\n        message.info(`即将前往 ${ThemeId} 帖子`)\r\n        setTimeout(() => history.push('/testApp'), 2000)\r\n    }\r\n\r\n    return (\r\n        <div id='comp-theme-item' className={`container ${$class}`} onClick = {handleClick}>\r\n            <div className='comp-theme-head'>\r\n                <div className='comp-theme-head-left'onClick={handleClick}>\r\n                {$Theme.pinned && <img src={pin} alt='いいね！' className='pinned-favicon'/>}\r\n                {$Theme.highQuality && <img src={HQuality} alt='いいね！' className='high-Quality-favicon'/>}\r\n                <div className='comp-theme-name'>{$Theme.title ?? '主题名称'}</div>\r\n                </div>\r\n                <div className='comp-theme-head-right'>\r\n                <div className='latest-Reply-Time'>{$Theme.latestReplyTime ?? '最新回复时间'}</div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className='comp-theme-tail'>\r\n                <div className='comp-theme-tail-left'>\r\n                <div className='cate-avatar'>\r\n                    <Avatar src={$Cate.avatar ?? defaultAvatar} size={30}/>\r\n                </div>\r\n                <div className='comp-cate-name'>{$Cate.name ?? '板块名称'+'|'}</div>\r\n                <div className='author-avatar'>\r\n                    <Avatar src={$User.avatar ?? defaultAvatar} size={30}/>\r\n                </div>\r\n                <div className='theme-author-name'>{$User.username ?? '主题作者名称'}</div>\r\n                <div className='theme-created-Time'>{$Theme.createdTime ?? '建立时间'}</div>\r\n                </div>\r\n                <div className='comp-theme-tail-right'>\r\n                <div className='replier-avatar'>\r\n                    <Avatar src={$User.avatar ?? defaultAvatar} size={30}/>\r\n                </div>\r\n                <div className='latest-Reply-name'>{$User.username ?? '最新回复人名称'}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n});\r\n\r\nexport default ThemeItem;\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAABHNCSVQICAgIfAhkiAAAAXxJREFUSEu91u1RwkAQBuD3OkgJWAHQAVYgHSgVuB2gHbxWYEqwBK1AqEBKgAriLHPHxPO+kgtkJj+Y3N2T3T02Z0RkB2COskvH3pM8lg0PjzIi0tlHewCpxRr7ctWwQ/ckF7m3F5EWwCOAKtihXyRXOVSfTwEPRqeAR6G1cBYVkYUxZt51ndZda3m5xqY6ifYWddAryZdaOIpqhAC+AWxItiJCAM8AlrURp1CNaEvS2BrOAPzY5vDp7/QhqXbogeSdl7biSN28UlhR1wZbkptIvaI1HROxotreNF3af0OwRqz3zq9lrJnkInb1SsIlnWpIxGfUbpSbwRf0lvAf9IrwB4AHuy+W/9BrwL2NdSLZBNEp4T4IYKX/gCg6BRwCdd0kWgPHwCJ0DJwCi1EPnulmKOhGJ1dDf2w2vV4vVqwheQihuQjdnEFo4AX0+/qm5+BScFB6A731CcC7PY5q5GsA0ZT254+O1NbZnYP1ZxFYFWnvQ6GwnpnXpZ++X5CZTiym3gpxAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAABz9JREFUaEPdm+1VHTcQhrUVJK4gdgXBFRgqsF2BTQUZKkiogHEFMRUYVxCoILgCQwWxK9icZ8/MZq7QXmk/LuZE5/ADrpD0zuc7I90uHXCcnZ297vv+KKX0PPuJu96llMafruuuLy4ubg51rG7LhUXk567r3vV9/yaldLxy7euu6676vr9U1W8r1xr/fRPAIgK431JKAG0ZX2zSry2TU0pXKaUPqnrdOH9y2irABvT3CW1+t4NySEz2dkpTWEZKyU0f4SG4nwqnZq3zNcAXARYRfPKioFEHqap6u0YbIoIAZAI8Gj9dYuqzAYsI0v8zpYRWfNynlP5Q1Y9rQE79r4i8Z/2U0i9hDn4NaMA3j1mARQStInUfaBSg2rzjiokiAmj2j+bO9metyzYBNh/7y/zM1/7M5qqKfz7aMHdCwK/DprjPSYuJVwFPgD17LK3uMXM0jcX5aAK9F3ABLCb8Zk2U3NIULEvgw27iVdA1wH8HMwbs8drouyVg1rJoTroaQavqy6l9JgGLCJGY6Mh4kmAdVAE0JCUG1xF/EbClnk9BSgSE1Sxna+3G9cy8Caw+3pZS1gPA5rdfQ5794QGqVVAiEgMZefpFHrlLgNGsc+LPqtrKj1vPddB5IoIlvrJNKDzcLYc/7QDOzAK/PXrsPLtWGpanidYexHbcMQeMD3hZB0mH2SwaBVY2Z51Z7Clf2BgZRQ3jWlVPfM4IONPuvapSICwaxn2J8msGPHkxNxcRGKBz71HLETAJ3Ona4s0ysNS9MT1QAcGOLi2/c6DTlFIs8KGNXidvdY4xFg2Aze6JzIzvqhoroWYtFTQ75kPLlbjMF1U9tmxAgOkjDxYRANNM8LEItK2Plt2XnxGxHXAM5w8iWwviAAhhoVm0NBw2UFT2g60NGg2H+ursKAjN12AuJjm7vhYRXOKdnX9Irw44hvKXcxcvgCXYkd5emLmi2R2wLsTAkj6p6mmIJdBD3AyzXwTa1oYeM26wLAeMWS0y5wzsQEHtB9AEPsAC/PmeFg++jdAdNOd5a60h58lLQfN/g1mj4C6jkbPMOaumRr5tpgRY4gIHrxYdwZQp5iELV6TFjCdXq6Hc/UQkBuMTAKMJz1nNNLJQOo6uICKYEYDdjJv8L4BGK0NwM1/HAtw0Z4HO6OY5gKNjNxcJBoqDMDhgBOXkxRvsLXHP57AmgS9f0//OPDqgkyVg3CzjF5cAjgFrCN2102XBoDb9UJ83Bdcs5d4AGD8bWJVH7ZYTZpZBCondQwoOouuHlrUKc8jDrBlLUtZ0QjI31nhQvgOw/zILsPlWtI6x/gxm1OwiIU3hDkT28X/ztKeq7kpN8owYI+DZ/DmwJSS/kzbMVfpI3FtOJyJDzg4BC3/2+pz+NxVc1e0yPx5TUwR8p6rky1kjK8fGojv4TjM1LFlGYGOcq5reSocXkX+8obHKpIMZOnEgwY9pw/z8Vasgc+2G9T3GLOqB5yY9llFzglYhwRNUvA821KBztLzG72smGQDfL0pLUxtk1dJH48bk+aqWo3bNjInUlHVNpGXPmZzxMWVIS4uIx54NYnl3nlJifQ49eQcVtWtz/VpnIPw1De77vEQ8FlHLyiZRiBT4SBmNPegiWnobI3PG4GantYKrxdJ3oJae95i7WZdSRNCqEwUKCIRASbrTJ8u0S+3qXcbm6F4R/m7xYBJ28vFNVZ+tMaEQWcmfEBPP0TxUoX26o2X3XTNl73SsaiBmOXhMSUN5WGBMTRy1RSiFHI0QRjBBu/S4vDMxizZWtBurrJ0GwOoWz54gFnO0T0PLd6bdGJQ2cylT5GSLB8mjekbxiqJFo43pimlolMPEuyCKhbHftWY/AxspKX/6r4lnEzZp084ATVDzImARR66Yc7Ta3TatAY7RehGvrmkly/k+/SBXsbHsjZVXftUSy73NImUWNaNfHQps5BY75GXfZRq+TMReRNj3mHZMV5vk2kygkBz6X36ZMH2ZVvDlnYuomsk+hc+zyL//ujREt3hFcRDTPoRwsg4s7vKgF/5/evIQy1Pk2fbkwSWfXWot6vofQoulNbOeF1PmPWoJoGMB8CRBF8DSwJ9s8tXeacWI6ixs9oPOQ2m68NC1ytZanx561eNnp5inuP9hQ0S4HoqlZhUsh60CDpE7B83vaHvTPF2ToFVgPKeIRQelJ08iq+3bJsATgcxNnKL+UbRtWoUjxxcKkwGqJLxZgE3bhH/oYXyzfNd1nW79hQy3LvviCEDjQxvy7PuDPhAPmkbCgI5vll3jVF0wnFVPFa05QFMAAedvTigveatdNeFcy7M1nPFW/IjA4S/f4scchq/iAPy273uucor+jl92Xcfl21Hf9/6CoPSwBl8lYC4W5irAQeMcEpPLNT4Vg1wzra+FeH1PrFgM1A+yCeDM1Ok6YoYlrdeCcPwcbeIeNPRnm+7URpsCzjcxP0T78at48Zsp/Avdjvh1PCq01ZqcAvwvLZ3yxYegU4AAAAAASUVORK5CYII=\"","import React, {CSSProperties, FC, memo} from \"react\";\r\nimport {message, Space,Empty} from \"antd\";\r\nimport CateItem from \"./CateItem\";\r\nimport {Category, User, Theme} from \"../configs/types\";\r\nimport {RedoOutlined} from '@ant-design/icons';\r\nimport ThemeItem from \"./ThemeItem\";\r\nimport {category} from \"../configs/api\";\r\nimport Card from \"./Card\";\r\nimport '../styles/components/NewestTheme1.scss'\r\n\r\ninterface IProps {\r\n    classname?: string | undefined;\r\n    style?: Partial<CSSProperties>\r\n    newThemes: Theme[]\r\n}\r\n\r\nconst NewestTheme1: FC<IProps> = memo(props => {\r\n    const $class = props.classname ?? '';\r\n    const $style = props.style;\r\n    const $newThemes = props.newThemes;\r\n    let links = [];\r\n\r\n    if($newThemes.length ===0){\r\n        links.push(<Empty></Empty>)\r\n    }\r\n    else {\r\n        for (let i = 0; i < $newThemes.length; i++) {\r\n            links.push(<ThemeItem info_Theme={$newThemes[i]} info_Cate={{} as Category}\r\n                                  info_User={{} as User}></ThemeItem>)\r\n        }\r\n    }\r\n\r\n    const refresh = () => {message.info(\"你试图刷新最新主题\")}\r\n\r\n    return(\r\n        <div id = 'comp-newest-theme' style ={$style}>\r\n            <div className = {`container ${$class}`}>\r\n                <Card style={{  width: '720px', height: '500px'}}>\r\n                    <div className='card-container'>\r\n                        <div className=\"top\">\r\n                            <div className='text-newest'>\r\n                                最新主题\r\n                            </div>\r\n                            <RedoOutlined className='refresh' onClick = {refresh}/>\r\n                        </div>\r\n                        <div className=\"new-themes\">\r\n                            <Space direction=\"vertical\" style = {{display: \"flex\",alignItems: \"center\",justifyContent: \"center\"}}>\r\n                                {links}\r\n                            </Space>\r\n                        </div>\r\n                    </div>\r\n                </Card>\r\n\r\n\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\nexport default NewestTheme1;","import React, {CSSProperties, FC, memo} from \"react\";\r\nimport {message, Space, Empty} from \"antd\";\r\nimport CateItem from \"./CateItem\";\r\nimport {Category, Theme, User} from \"../configs/types\";\r\nimport Card from \"./Card\";\r\nimport ThemeItem from \"./ThemeItem\";\r\nimport {RedoOutlined} from '@ant-design/icons';\r\nimport '../styles/components/NewestReplyTheme1.scss'\r\nimport {category} from \"../configs/api\";\r\n\r\ninterface IProps {\r\n    classname?: string | undefined;\r\n    style?: Partial<CSSProperties>\r\n    newReplies: Theme[]\r\n}\r\n\r\nconst NewestReplyTheme1: FC<IProps> = memo(props => {\r\n    const $class = props.classname ?? '';\r\n    const $style = props.style;\r\n    const newReplies = props.newReplies;\r\n    let links = [];\r\n\r\n    if(links.length === 0){\r\n        links.push(<Empty />)\r\n    }\r\n    else{\r\n        for(let i =0; i<newReplies.length;i++){\r\n            //TODO info_Cate 和 info_User 将来需要使用正确的值\r\n            links.push(<ThemeItem info_Theme={newReplies[i]} info_Cate={{} as Category} info_User={{} as User} />)\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const refresh = () => {message.info(\"你试图刷新最新回复\")}\r\n\r\n\r\n    return(\r\n        <div id = 'comp-newest-reply-theme' style ={$style}>\r\n                <div className = {`container ${$class}`}>\r\n                    <Card style={{  width: '720px', height: '500px'}}>\r\n                        <div className = 'card-container'>\r\n                            <div className=\"top\">\r\n                                <div className='text-newest-reply'>\r\n                                    最新回复\r\n                                </div>\r\n                                <RedoOutlined className='refresh' onClick = {refresh}/>\r\n                            </div>\r\n                            <div className=\"new-themes-reply\">\r\n                                <Space direction=\"vertical\" style = {{display: \"flex\",alignItems: \"center\",justifyContent: \"center\"}}>\r\n                                    {links}\r\n                                </Space>\r\n                            </div>\r\n                        </div>\r\n                    </Card>\r\n                </div>\r\n        </div>\r\n    )\r\n})\r\nexport default NewestReplyTheme1;\r\n","import React, {CSSProperties, FC, memo} from \"react\";\r\nimport {Avatar, message} from \"antd\";\r\nimport {defaultAvatar} from \"../configs/consts\";\r\nimport '../styles/components/CateIntro.scss'\r\nimport {Category,User} from \"../configs/types\";\r\n\r\ninterface IProps {\r\n    className?: string | undefined;\r\n    info_Cate: Category;\r\n    info_User:User;\r\n}\r\n\r\nconst CateIntro: FC<IProps> = memo((props) => {\r\n    const $class = props.className ?? '';\r\n    const $Cate = props.info_Cate;\r\n    const $User = props.info_User;\r\n    return (\r\n        <div id='comp-topic-intro' className={`container ${$class}`}>\r\n            <div className='cate-intro-head'>\r\n            <div className='cate-intro-avatar'>\r\n                <Avatar src={$Cate.avatar ?? defaultAvatar} size={128}/>\r\n            </div>\r\n            <div className='comp-cate-name'>{$Cate.name ?? '图形学学习'}</div>\r\n            <div className='comp-cate-controller-name'>{$User.username ?? '版主：tmc'}</div>\r\n            <div className='comp-cate-desc'>{$Cate.desc ?? '这是一个讨论 Unity 开发，OpenGL 图形学学习以及带佬互膜的板块'}</div>\r\n            </div>\r\n            <div className='cate-intro-tail'>\r\n                <div className='theme'>\r\n                <div className='theme-number'>{$Cate.themeNumber ??'56'}</div>\r\n                    <div className='theme-word'>{'主题'}</div>\r\n                </div>\r\n                <div className='post'>\r\n                    <div className='post-number'>{$Cate.postNumber ??'108'}</div>\r\n                    <div className='post-word'>{'帖子'}</div>\r\n                </div>\r\n                <div className='visits'>\r\n                    <div className='visits-number'>{$Cate.visits ?? '2.3K'}</div>\r\n                    <div className='visits-word'>{'访问'}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n})\r\n\r\nexport default CateIntro;","import React, {CSSProperties, FC, memo} from \"react\";\r\nimport {Announcement, User} from \"../configs/types\";\r\nimport {stringToDate} from \"../utils/DateTimes\";\r\nimport moment from \"moment\";\r\nimport \"../styles/components/AnnouncementCard1.scss\"\r\nimport {message, Empty} from \"antd\";\r\nimport {announcement} from \"../configs/url\";\r\nimport Card from \"./Card\";\r\n\r\ninterface IProps {\r\n    className?: string | undefined;\r\n    msg?: number | undefined;\r\n    info: Announcement;\r\n    editor: User;\r\n    style?: Partial<CSSProperties>;\r\n}\r\n\r\nconst AnnouncementCard1: FC<IProps> = memo(props => {\r\n    const $class = props.className ?? \" \";\r\n    const $Announcement = props.info;\r\n    const $style = props.style ?? {};\r\n    const $editor = props.editor;\r\n\r\n    const readMore = () => {\r\n        message.info(`即将 查看更多内容`)\r\n    }\r\n    const updateTimeFromNow = moment($Announcement.updateTime).fromNow()\r\n\r\n    let link;\r\n    if($Announcement=== ({} as Announcement) || $Announcement === undefined){\r\n        link = <Empty></Empty>;\r\n    }\r\n    else{\r\n        link = $Announcement.content ?? \" \";\r\n    }\r\n\r\n    return(\r\n        <div id=\"comp-announcement-card-1\" style={$style}>\r\n            <Card>\r\n                <div className={`container ${$class}`}>\r\n                    <div className = \"announcement\">\r\n                        <div className='text-announcement'>\r\n\r\n                            论坛公告\r\n                        </div>\r\n                        <div className=\"read-more\" onClick = {readMore}>\r\n                            查看更多 >\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"announcement-title\" /*TODO 公告标题没找到是哪一个*/>\r\n                        没找到标题是哪一个\r\n                    </div>\r\n                    <div className=\"announcement-basic-info\">\r\n                        <div className=\"editor\">\r\n                            {$editor.username ?? ' '}\r\n                        </div>\r\n\r\n                        <div className = \"edit-time\" /*TODO 距离上一次编辑的时间 (未测试）*/>\r\n                            {updateTimeFromNow ?? \" \"}\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"announcement-content\">\r\n                        {link}\r\n                    </div>\r\n                </div>\r\n            </Card>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default AnnouncementCard1;","import React, { Component } from 'react';\r\nimport { Tag } from 'antd';\r\nimport '../styles/components/DynaimcTag.scss';\r\ninterface MyTagState {\r\n    checked: boolean;\r\n}\r\ninterface MyTagProps {\r\n    value: any;\r\n    onChange(checked: boolean,value: any): void;\r\n    onClose(value: any): void;\r\n}\r\nclass MyTag extends Component<MyTagProps,MyTagState> {\r\n    static defaultProps: MyTagProps = {\r\n        value: null,\r\n        onChange: () => null,\r\n        onClose: () => null,\r\n    };\r\n    public state: MyTagState = {\r\n        checked: false,\r\n    };\r\n    private onChange = (checked: boolean) => {\r\n        this.props.onChange(checked,this.props.value);\r\n        this.setState({checked});\r\n    }\r\n    private onClose = () => this.props.onClose(this.props.value);\r\n    public render() {\r\n        const { checked } = this.state;\r\n        return (\r\n            <Tag\r\n                closable\r\n                className={'c-tag'+(checked ? ' c-tag-checked': '')}\r\n                onClose={this.onClose}\r\n            >\r\n                <Tag.CheckableTag\r\n                    className='c-tag-checkbox'\r\n                    checked={checked}\r\n                    onChange={this.onChange}\r\n                >{this.props.children}</Tag.CheckableTag>\r\n            </Tag>\r\n        );\r\n    }\r\n}\r\ninterface State {\r\n    tags: string[];\r\n    checks: string[];\r\n}\r\nclass DynamicTag extends Component<{}, State> {\r\n    public state: State = {\r\n        tags: ['互膜','OpenGL','ARKit','ARCore','VR','Unity'],\r\n        checks: [],\r\n    };\r\n    private onChange = (checked: boolean, tag: string) => {\r\n        const { checks } = this.state;\r\n        this.setState({\r\n            checks: checked ? checks.concat([tag]) : checks.filter((v: string) => v !== tag),\r\n        });\r\n    }\r\n    private onClose = (tag: string) => {\r\n        this.setState({\r\n            checks: this.state.checks.filter((v: string) => v !== tag),\r\n        });\r\n    }\r\n    public render() {\r\n        return (\r\n            <div className=\"App\">\r\n                {this.state.tags.map((v: string) => (\r\n                    <MyTag\r\n                        key={v}\r\n                        value={v}\r\n                        onChange={this.onChange}\r\n                        onClose={this.onClose}\r\n                    >{v}</MyTag>\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DynamicTag;","import React, {CSSProperties, FC, HTMLProps, memo} from \"react\";\r\nimport '../styles/components/ThemeItem.scss';\r\n\r\nimport {Avatar, Input, message, Popover,Radio} from 'antd';\r\nimport {useHistory} from \"react-router\";\r\nimport DynamicTag from \"./DynamicTag\";\r\nimport '../styles/components/CateSearch.scss'\r\n\r\ninterface IProps {\r\n\r\n}\r\n\r\nconst SearchBar: FC<{} & HTMLProps<any>> = memo((props) => {\r\n\r\n    const trySearch = (value: string) => {\r\n        // TODO: 搜索逻辑\r\n        if (value !== '') message.info(`将要搜索 \"${value}\"`)\r\n    }\r\n\r\n    return <div className={`comp-search-bar ${props.className}`}>\r\n        <Input.Search placeholder='查找板块内内容……' className='input-search' onSearch={trySearch}/>\r\n    </div>\r\n})\r\n\r\nconst CateSearch: FC<IProps> = memo((props) => {\r\n\r\n    const history = useHistory();\r\n    const backToHome = () => history.push('/')\r\n\r\n    const radioStyle = {\r\n        display: 'block',\r\n        height: '30px',\r\n        lineHeight: '30px',\r\n    };\r\n    //TODO:事件监听\r\n    return <div id='comp-cate-Search' className='container'>\r\n        <div className='title'>板块内搜索</div>\r\n        <SearchBar className='search-bar'/>\r\n        <div className='related-tag-radio-Group'>相关标签</div>\r\n        <div className='Dynamic-Tag-radio-Group'>\r\n            <DynamicTag/>\r\n        </div>\r\n        <div className='related-tag-radio-Group'>搜索选项</div>\r\n        <div className='Dynamic-Tag-radio-Group'>\r\n        <Radio.Group >\r\n            <Radio style={radioStyle} value={1}>\r\n                只看主题帖\r\n            </Radio>\r\n            <Radio style={radioStyle} value={2}>\r\n                时间倒序\r\n            </Radio>\r\n            <Radio style={radioStyle} value={3}>\r\n                相关性排序\r\n            </Radio>\r\n        </Radio.Group>\r\n        </div>\r\n        <div className='senior-search'>高级搜索……</div>\r\n    </div>;\r\n})\r\nexport default CateSearch;\r\n","import React, {FC, memo, useContext, useEffect} from \"react\";\r\n\r\nimport {CategoryPageProps} from \"../containers/pages/CategoryPage\";\r\nimport '../styles/Categorypage.scss';\r\nimport {Announcement, Category, Theme, User} from \"../configs/types\";\r\n\r\nimport CateIntro from '../components/CateIntro'\r\nimport NewestTheme1 from \"../components/NewestTheme1\";\r\nimport NewestReplyTheme1 from \"../components/NewestReplyTheme1\";\r\nimport AnnouncementCard1 from \"../components/AnnouncementCard1\";\r\nimport CateSearch from \"../components/CateSearch\";\r\nimport {RouteContext} from \"../components/PageFrame\";\r\nimport {useHistory} from \"react-router\";\r\n\r\nimport {message} from 'antd';\r\nimport * as url from '../configs/url';\r\nimport {LoadingIcon} from \"../utils/items\";\r\nimport {defaultAvatar} from \"../configs/consts\";\r\n\r\n\r\nconst CategoryPage: FC<CategoryPageProps> = memo(({store, loadData, userDB}) => {\r\n\r\n    const route = useContext(RouteContext);\r\n    const cid = route.match.params.cateId;\r\n    const history = useHistory();\r\n\r\n    const unload = store.loaded != cid;         // TODO: ！== => 6 ≠ 6\r\n\r\n    const $db = ($uid: number) => {\r\n        return userDB[$uid] ?? {\r\n            avatar: defaultAvatar,\r\n            nickname: '加载中……',\r\n            isAdmin: false,\r\n            manageCateId: 0,\r\n            createdAt: '加载中……',\r\n            lastSignIn: '加载中……',\r\n            signature: '加载中……',\r\n            username: '加载中……',\r\n            _id: 0,\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (cid === undefined) {\r\n            message.info('查看所有版块的页面正在开发中，即将回到首页');\r\n            history.push(url.root);\r\n        } else if (store.loaded !== cid) {\r\n            message.loading('加载数据中');\r\n            loadData(cid);\r\n        } else message.success('加载成功');\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div id='page-Category' className='page'>\r\n            {unload ? LoadingIcon : <div className='container'>\r\n                <div className='left'>\r\n                    <CateIntro\r\n                        info_Cate={{} as Category} info_User={{} as User} className={'cate-intro'}/>\r\n\r\n                    <AnnouncementCard1\r\n                        info={{} as Announcement} editor={{} as User} className={'cate-intro'}/>\r\n                </div>\r\n                <div className='mid'>\r\n                    <div className='up'>\r\n                        <NewestReplyTheme1 newReplies={{} as Theme[]}>\r\n\r\n                        </NewestReplyTheme1>\r\n                    </div>\r\n                    <div className='buttom'>\r\n                        <NewestTheme1 newThemes={{} as Theme[]}>\r\n\r\n                        </NewestTheme1>\r\n                    </div>\r\n                </div>\r\n                <div className='right'>\r\n                    <CateSearch />\r\n                </div>\r\n            </div>}\r\n        </div>\r\n\r\n    )\r\n\r\n});\r\n\r\nexport default CategoryPage;\r\n","import {connect} from \"react-redux\";\r\nimport {bindActionCreators, Dispatch} from 'redux';\r\nimport {StoreState} from \"../../redux/reducers\";\r\nimport * as $actions from '../../redux/actions/async';\r\n\r\nimport CategoryPage from \"../../pages/CategoryPage\";\r\n\r\nconst mapStateToProps = ({\r\n    category, component: {userCenter}\r\n}: StoreState) => ({\r\n    store: category,\r\n    now: category.loaded,\r\n    userDB: userCenter,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) => bindActionCreators({\r\n    loadData: $actions.fetchCategoryDetail,\r\n}, dispatch);\r\n\r\ntype StateProps = ReturnType<typeof mapStateToProps>;\r\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\n\r\nexport type CategoryPageProps = StateProps & DispatchProps;\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CategoryPage);\r\n"],"sourceRoot":""}